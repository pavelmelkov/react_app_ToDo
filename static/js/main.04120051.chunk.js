(this.webpackJsonp7=this.webpackJsonp7||[]).push([[0],{13:function(e,t,a){e.exports={Layout:"Layout-modules__Layout--3y43T",White:"Layout-modules__White--2XVaD",headerWhite:"Layout-modules__headerWhite--26ceq",Black:"Layout-modules__Black--3uGGo",headerBlack:"Layout-modules__headerBlack--lITt7",styleButton:"Layout-modules__styleButton--1zAeU",author:"Layout-modules__author--Ol5nc",MenuToggle:"Layout-modules__MenuToggle--p0BhU",MenuToggleBlack:"Layout-modules__MenuToggleBlack--20RPZ",open:"Layout-modules__open--MFKUZ",Drawer:"Layout-modules__Drawer--1dj87",close:"Layout-modules__close--37Ukg",active:"Layout-modules__active--1jFDX"}},23:function(e,t,a){e.exports={whiteModal:"Modal-modules__whiteModal--b8-gS",blackModal:"Modal-modules__blackModal--2cfTf",whiteIntoModal:"Modal-modules__whiteIntoModal--3CTeR",blackIntoModal:"Modal-modules__blackIntoModal--KrSUy",inputModal:"Modal-modules__inputModal--O6rUG",buttonModal:"Modal-modules__buttonModal--2VEpE"}},25:function(e,t,a){e.exports={TaskOne:"TaskOne-modules__TaskOne--3wmeM",TaskOneBlack:"TaskOne-modules__TaskOneBlack--3oNBG",AroundLink:"TaskOne-modules__AroundLink--3qVQR",toHome:"TaskOne-modules__toHome--1kIbe",toHomeBlack:"TaskOne-modules__toHomeBlack--1JKS1"}},26:function(e,t,a){e.exports={Auth:"Auth-modules__Auth--2icya",AuthBlack:"Auth-modules__AuthBlack--2MnOT"}},29:function(e,t,a){e.exports={Button:"Button-modules__Button--3mKQP",ButtonAuth:"Button-modules__ButtonAuth--c6Mgk",ButtonAction:"Button-modules__ButtonAction--_pAIU",error:"Button-modules__error--3RpfL",success:"Button-modules__success--lKcEX",primary:"Button-modules__primary--x7JaR",checked_delete:"Button-modules__checked_delete--1Hu_e"}},30:function(e,t,a){e.exports={Input:"Input-modules__Input--1f0cA",invalid:"Input-modules__invalid--EiuYE",labelWhite:"Input-modules__labelWhite--3RrYw",labelBlack:"Input-modules__labelBlack--3zM0-"}},34:function(e,t,a){e.exports={Button:"StyleButton-modules__Button--1F6D1",white:"StyleButton-modules__white--2_ndw",black:"StyleButton-modules__black--7Jz6b",Together:"StyleButton-modules__Together--2vnaa"}},39:function(e,t,a){e.exports={ButtonMobile:"ButtonMobile-modules__ButtonMobile--2H3ZU",error:"ButtonMobile-modules__error--2IIuD",success:"ButtonMobile-modules__success--3C7pq",primary:"ButtonMobile-modules__primary--2M2_D",checked_delete:"ButtonMobile-modules__checked_delete--3UKUc"}},5:function(e,t,a){e.exports={TaskListWhite:"TaskList-modules__TaskListWhite--2XoMj",TaskListBlack:"TaskList-modules__TaskListBlack--313zV",mobileWrapper:"TaskList-modules__mobileWrapper--273bG",h1White:"TaskList-modules__h1White--1pSGo",h1Black:"TaskList-modules__h1Black--1pnNO",TasksWhite:"TaskList-modules__TasksWhite--QIKjv",TasksBlack:"TaskList-modules__TasksBlack--1PJ7-",TaskWhite:"TaskList-modules__TaskWhite--1Wdc4",TaskBlack:"TaskList-modules__TaskBlack--3qrLp",BoxWhite:"TaskList-modules__BoxWhite--1hOgY",BoxBlack:"TaskList-modules__BoxBlack--1D7L4",FormWhite:"TaskList-modules__FormWhite--11asz",FormBlack:"TaskList-modules__FormBlack--3PhHv",noTaskInscriptionWhite:"TaskList-modules__noTaskInscriptionWhite--JRvBJ",noTaskInscriptionBlack:"TaskList-modules__noTaskInscriptionBlack--hYOxe",boxThemeDiv:"TaskList-modules__boxThemeDiv--rFL7E",changeThemeDiv:"TaskList-modules__changeThemeDiv--GWcT3"}},51:function(e,t,a){e.exports={Backdrop:"Backdrop-modules__Backdrop--2y06_"}},54:function(e,t,a){e.exports=a(84)},59:function(e,t,a){},60:function(e,t,a){e.exports={App:"App__App--1o-Fp","App-logo":"App__App-logo--3JCPt","App-logo-spin":"App__App-logo-spin--RvI1J","App-header":"App__App-header--3iH8L","App-link":"App__App-link--13fTZ"}},7:function(e,t,a){e.exports={Task:"Task-modules__Task--33rCP",IconWrapper:"Task-modules__IconWrapper--jydIA",descr:"Task-modules__descr--5oV7b",checked:"Task-modules__checked--2yL58",Edit:"Task-modules__Edit--2TS1u",Checked:"Task-modules__Checked--3A1lb",Delete:"Task-modules__Delete--15PWG",WhiteTheme:"Task-modules__WhiteTheme--_d5-f",BlackTheme:"Task-modules__BlackTheme--3ZhIP",whiteIcon:"Task-modules__whiteIcon--192H2"}},84:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(31),s=(a(59),a(15)),c=a(16),l=a(18),u=a(17),i=(a(60),a(3)),d=a(25),p=a.n(d),m=a(14),h=a(4);var k=Object(h.b)((function(e){return{tasks:e.tasks.tasks,change:e.layout.change}}))((function(e){var t=e.match.params.id,a=e.tasks.filter((function(e){return e.id.toString()===t.toString()})),n=!0;0===a.length&&(n=!1);var r=[];e.change?r.push(p.a.TaskOne):r.push(p.a.TaskOneBlack);var s=[];return e.change?s.push(p.a.toHome):s.push(p.a.toHomeBlack),o.a.createElement(o.a.Fragment,null,n?o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:p.a.AroundLink},o.a.createElement(m.b,{to:"/",style:{textDecoration:"none"}},"  ",o.a.createElement("div",{className:s.join(" ")}," ",o.a.createElement("strong",null," \u041d\u0430\u0437\u0430\u0434 ")," ")," ")),o.a.createElement("div",{className:r.join(" ")},o.a.createElement("h1",null," Your Task "),o.a.createElement("h2",null," ",a[0].descr," ",o.a.createElement("p",null," \u0414\u0430\u0442\u0430 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f: ",a[0].date," ")))):o.a.createElement(i.a,{to:{pathname:"/"}}))})),f=a(6),v=a.n(f),_=a(19),T=a(1),g=a(20),b=a(5),E=a.n(b),O=a(7),j=a.n(O),y=a(29),B=a.n(y),C=function(e){var t=[B.a[e.type]];"auth"===e.id&&t.push(B.a.ButtonAuth);var a=[];"form"===e.id&&a.push(B.a.Button);var n=[];return"action"===e.id&&n.push(B.a.ButtonAction),o.a.createElement("button",{onClick:e.onClick,className:t.join(" ")+" "+n.join(" ")+" "+a.join(" "),disabled:e.disabled},e.children)},S=function(e){var t=["fa","fa-pencil"];e.changeTheme||t.push(j.a.whiteIcon);var a=["fa","fa-check"];e.changeTheme||a.push(j.a.whiteIcon);var n=["fa","fa-times"];e.changeTheme||n.push(j.a.whiteIcon);var r=[null];e.checkedTask&&r.push(j.a.checked);var s=[];return e.changeTheme?s.push(j.a.WhiteTheme):s.push(j.a.BlackTheme),o.a.createElement("div",{className:j.a.Task},o.a.createElement("div",{className:j.a.Edit},o.a.createElement(C,{id:"action",onClick:e.update,type:"checked_delete"},o.a.createElement("div",{className:j.a.IconWrapper},o.a.createElement("i",{className:t.join(" "),"aria-hidden":"true"})))),o.a.createElement(m.c,{to:{pathname:"/tasks/".concat(e.id)},style:{textDecoration:"none"}},o.a.createElement("div",{className:j.a.descr},o.a.createElement("p",{className:r.join(" ")+" "+s.join(" ")}," ",e.descr.slice(0,40)," ",e.descr.length>40?"...":null," "))),o.a.createElement("div",{className:j.a.Checked},o.a.createElement(C,{id:"action",onClick:e.checked,type:"checked_delete"},o.a.createElement("div",{className:j.a.IconWrapper},o.a.createElement("i",{className:a.join(" "),"aria-hidden":"true"})))),o.a.createElement("div",{className:j.a.Delete},o.a.createElement(C,{id:"action",disabled:!e.checkedTask,onClick:e.delete,type:"checked_delete"},o.a.createElement("div",{className:j.a.IconWrapper},o.a.createElement("i",{className:n.join(" "),"aria-hidden":"true"})))))},A=a(23),I=a.n(A),M=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).state={newTask:null,valueInput:"",disabled:!0},e.changeHandler=function(t){var a=Object(g.a)(e.props.tasksInfo),n=e.props.modalInfo.taskId,o=a.filter((function(e){return e.id===n}))[0];o.descr=t,e.setState({newTask:o,valueInput:t,disabled:!1})},e}return Object(c.a)(a,[{key:"setValue",value:function(){var e=Object(g.a)(this.props.tasksInfo),t=this.props.modalInfo.taskId;return e.filter((function(e){return e.id===t}))[0].descr}},{key:"render",value:function(){var e=this,t=[];this.props.changeTheme?t.push(I.a.whiteModal):t.push(I.a.blackModal);var a=[];return this.props.changeTheme?a.push(I.a.whiteIntoModal):a.push(I.a.blackIntoModal),o.a.createElement("div",{className:t.join(" ")},o.a.createElement("div",{className:a.join(" ")},"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0442\u0430\u0441\u043a\u0430",o.a.createElement("form",null,o.a.createElement("input",{value:this.setValue(),className:I.a.inputModal,placeholder:"\u043e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0437\u0430\u0434\u0430\u043d\u0438\u044f",onChange:function(t){return e.changeHandler(t.target.value)}})),o.a.createElement("button",{disabled:this.state.disabled,className:I.a.buttonModal,onClick:function(){return e.props.updated(e.state.newTask)}},"Update")))}}]),a}(o.a.Component);var w=Object(h.b)((function(e){return{openModal:e.tasks.openModal,loader:e.tasks.loader,tasks:e.tasks.tasks}}))(M),L=a(39),N=a.n(L),x=function(e){var t=[N.a.ButtonMobile,N.a[e.type]];return o.a.createElement("button",{onClick:e.onClick,className:t.join(" "),disabled:e.disabled},e.children)},D=a(30),W=a.n(D);function H(e){var t=e.valid,a=e.touched,n=e.shouldValidate;return!t&&n&&a}var F=Object(h.b)((function(e){return{change:e.layout.change}}))((function(e){var t=e.type||"text",a=[W.a.Input],n="".concat(t,"-").concat(Math.random());H(e)&&a.push(W.a.invalid);var r=[];return e.change?r.push(W.a.labelWhite):r.push(W.a.labelBlack),o.a.createElement("div",{className:a.join(" ")},o.a.createElement("label",{htmlFor:n,className:r.join(" ")}," ",e.label," "),o.a.createElement("input",{type:t,id:n,value:e.value,onChange:e.onChange}),H(e)?o.a.createElement("span",null," ",e.errorMessage||"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0432\u0435\u0440\u043d\u043e\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435!"," "):null)}));function U(e,t){return Object(T.a)(Object(T.a)({},e),{},{validation:t,valid:!t,touched:!1,value:""})}function K(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!t)return!0;var a=!0;return t.required&&(a=""!==e.trim()&&a),a}var R=a(51),G=a.n(R),V=function(e){return o.a.createElement("div",{className:G.a.Backdrop,onClick:e.onClick})},P=a(22),J=a.n(P);function q(e){return{type:"NEW_CHECK",newTasks:e}}function z(e){return{type:"DELETE_TASK",newTasks:e}}function Z(e){return{type:"UPDATE_TASK",tasks:e}}function X(e){return{type:"SET_TASK",task:e}}function Y(e){return{type:"SUCCESS_CREATED_TASK",task:e}}function Q(e){return{type:"FETCH_TASKS_SUCCESS",tasks:e}}function $(e){return{type:"TOGGLE_CHANGE",newToggle:e}}var ee=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).state={formtask:U({label:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0437\u0430\u0434\u0430\u043d\u0438\u0435",errorMessage:"\u041f\u043e\u043b\u0435 \u043d\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u043f\u0443\u0441\u0442\u044b\u043c"},{required:!0})},e.addTask=function(){if(localStorage.getItem("userId")||alert("\u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u043e\u0432\u0430\u0442\u044c\u0441\u044f!"),e.state.formtask.valid&&localStorage.getItem("userId")){var t=Object(g.a)(e.props.tasks).length+Math.floor(1e4*Math.random());console.log("taskId ",t);var a={id:t,descr:e.state.formtask.value,date:(new Date).toLocaleDateString(),checked:!1};e.props.addTaskToDB(a),e.setState({formtask:U({label:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0437\u0430\u0434\u0430\u043d\u0438\u0435",errorMessage:"\u041f\u043e\u043b\u0435 \u043d\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u043f\u0443\u0441\u0442\u044b\u043c"},{required:!0})})}},e.changeHandler=function(t){var a=Object(T.a)({},e.state.formtask);a.touched=!0,a.value=t,a.valid=K(a.value,a.validation),e.setState({formtask:a})},e.updateTask=function(t){null!==t.descr&&e.props.updatedTask(t)},e.openModalToUpdateTask=function(t){e.props.modalOpen(t)},e.removeTask=function(t){var a=Object(g.a)(e.props.tasks).filter((function(e){return e.id!==t}));e.props.taskRemove(a)},e.checkedTask=function(t){var a=Object(g.a)(e.props.tasks).map((function(e){if(e.id===t){var a=e.checked;e.checked=!a}return e}));e.props.check(a)},e.modalClose=function(){e.props.closeModal()},e}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=Object(_.a)(v.a.mark((function e(){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.props.fetchTasks();case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"renderTasks",value:function(e){var t=this,a=[];return this.props.change?a.push(E.a.TaskWhite):a.push(E.a.TaskBlack),e.map((function(e,n){return o.a.createElement("div",{className:a.join(" "),key:e.id},o.a.createElement(S,{changeTheme:t.props.change,key:e.id,checkedTask:e.checked,date:e.date,descr:e.descr,details:e.details,id:e.id,checked:function(){return t.checkedTask(e.id)},delete:function(){return t.removeTask(e.id)},update:function(){return t.openModalToUpdateTask(e.id)}}))}))}},{key:"render",value:function(){var e=this,t=[];this.props.change?t.push(E.a.BoxWhite):t.push(E.a.BoxBlack);var a=[];this.props.change?a.push(E.a.TaskListWhite):a.push(E.a.TaskListBlack);var n=[];this.props.change?n.push(E.a.TasksWhite):n.push(E.a.TasksBlack);var r=[];this.props.change?r.push(E.a.h1White):r.push(E.a.h1Black);var s=[];this.props.change?s.push(E.a.FormWhite):s.push(E.a.FormBlack);var c=[];return this.props.change?c.push(E.a.noTaskInscriptionWhite):c.push(E.a.noTaskInscriptionBlack),o.a.createElement(o.a.Fragment,null,this.props.openModal.open?o.a.createElement(V,{onClick:this.modalClose}):null,o.a.createElement("div",{className:a.join(" ")},o.a.createElement("h1",{className:r.join(" ")},"ToDo List"),o.a.createElement("div",{className:s.join(" ")},o.a.createElement("form",{onSubmit:function(e){e.preventDefault()}},o.a.createElement("div",{className:E.a.mobileWrapper},o.a.createElement("div",null,o.a.createElement(F,{change:this.props.change,label:this.state.formtask.label,value:this.state.formtask.value,valid:this.state.formtask.valid,shouldValidate:!!this.state.formtask.validation,touched:this.state.formtask.touched,errorMessage:this.state.formtask.errorMessage,onChange:function(t){return e.changeHandler(t.target.value)}})),o.a.createElement("div",null,o.a.createElement(x,{type:"primary",disabled:!1,onClick:this.addTask},"C\u043e\u0437\u0434\u0430\u0442\u044c"))),o.a.createElement(C,{id:"form",type:"primary",disabled:!1,onClick:this.addTask}," \u0421\u043e\u0437\u0434\u0430\u0442\u044c "))),o.a.createElement("div",{className:E.a.changeThemeDiv,onClick:function(){return e.props.toggleChange(!e.props.change)}},o.a.createElement("div",{className:E.a.boxThemeDiv},"\u0421\u043c\u0435\u043d\u0438\u0442\u044c \u0441\u0442\u0438\u043b\u044c")),this.props.openModal.open?o.a.createElement("div",null," ",o.a.createElement(w,{changeTheme:this.props.change,updated:this.updateTask,modalInfo:this.props.openModal,tasksInfo:this.props.tasks})," "):null,o.a.createElement("div",{className:t.join(" ")},o.a.createElement("div",{className:n.join(" ")},this.props.tasks.length?this.renderTasks(this.props.tasks):o.a.createElement("p",null," ",o.a.createElement("strong",{className:c.join(" ")}," \u0417\u0430\u0434\u0430\u043d\u0438\u0439 \u043d\u0435\u0442 ")," ")))))}}]),a}(o.a.Component);var te=Object(h.b)((function(e){return{openModal:e.tasks.openModal,loader:e.tasks.loader,tasks:e.tasks.tasks,change:e.layout.change}}),(function(e){return{fetchTasks:function(){return e(function(){var e=Object(_.a)(v.a.mark((function e(t){var a,n,o;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"FETCH_TASKS_START"}),e.prev=1,a=localStorage.getItem("userId"),e.next=5,J.a.get("https://todo-9e5aa.firebaseio.com/".concat(a,"/tasks.json"));case 5:n=e.sent,o=[],Object.keys(n.data).forEach((function(e,t){o.push(n.data[e])})),t(Q(o)),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),t({type:"FETCH_TASKS_ERROR",error:e.t0});case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}())},addTaskToDB:function(t){return e(function(e){return function(){var t=Object(_.a)(v.a.mark((function t(a,n){var o;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a(X(e)),o=localStorage.getItem("userId"),t.next=4,J.a.post("https://todo-9e5aa.firebaseio.com/".concat(o,"/tasks.json"),n().tasks.task);case 4:a(Y(e)),a({type:"RESET_TASK"});case 6:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}()}(t))},createTask:function(){return e(X())},updatedTask:function(t){return e(function(e){return function(){var t=Object(_.a)(v.a.mark((function t(a,n){var o,r,s;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=n().tasks.tasks,(r=o.filter((function(t){return t.id!==e.id}))).push(e),a(Z(r)),s=localStorage.getItem("userId"),t.next=7,J.a.put("https://todo-9e5aa.firebaseio.com/".concat(s,"/tasks.json"),r);case 7:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}()}(t))},modalOpen:function(t){return e(function(e){return{type:"OPEN_MODAL",id:e}}(t))},closeModal:function(){return e({type:"CLOSE_MODAL"})},taskRemove:function(t){return e(function(e){return function(){var t=Object(_.a)(v.a.mark((function t(a){var n;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a(z(e)),n=localStorage.getItem("userId"),t.next=4,J.a.put("https://todo-9e5aa.firebaseio.com/".concat(n,"/tasks.json"),e);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(t))},check:function(t){return e(function(e){return function(){var t=Object(_.a)(v.a.mark((function t(a){var n;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a(q(e)),n=localStorage.getItem("userId"),t.next=4,J.a.put("https://todo-9e5aa.firebaseio.com/".concat(n,"/tasks.json"),e);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(t))},toggleChange:function(t){return e($(t))}}}))(ee),ae=a(26),ne=a.n(ae);function oe(e){return function(t){setTimeout((function(){t(re())}),1e3*e)}}function re(){return localStorage.removeItem("token"),localStorage.removeItem("userId"),localStorage.removeItem("expirationDate"),{type:"AUTH_LOGOUT"}}function se(e){return{type:"AUTH_SUCCESS",token:e}}var ce=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).state={isFormValid:!1,formControl:{email:{value:"",type:"email",label:"Email",errorMessage:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 email",valid:!1,touched:!1,validation:{required:!0,email:!0}},password:{value:"",type:"password",label:"\u041f\u0430\u0440\u043e\u043b\u044c",errorMessage:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 \u043f\u0430\u0440\u043e\u043b\u044c",valid:!1,touched:!1,validation:{required:!0,minLength:6}}}},e.loginHandler=function(){e.props.auth(e.state.formControl.email.value,e.state.formControl.password.value,!0)},e.registerHandler=function(){e.props.auth(e.state.formControl.email.value,e.state.formControl.password.value,!1)},e.submitHandler=function(e){e.preventDefault()},e.onChangeHandler=function(t,a){var n=Object(T.a)({},e.state.formControl),o=Object(T.a)({},n[a]);o.value=t.target.value,o.touched=!0,o.valid=e.validateControl(o.value,o.validation),n[a]=o;var r=!0;Object.keys(n).forEach((function(e){r=n[e].valid&&r})),e.setState({formControl:n,isFormValid:r})},e}return Object(c.a)(a,[{key:"validateControl",value:function(e,t){if(!t)return!0;var a=!0;return t.required&&(a=""!==e.trim()&&a),t.email&&(a=/^(([^<>()\]\\.,;:\s@"]+(\.[^<>()\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(e).toLowerCase())&&a),t.minLength&&(a=e.length>=t.minLength&&a),""===e&&(a=!0),a}},{key:"renderInputs",value:function(){var e=this;return Object.keys(this.state.formControl).map((function(t,a){var n=e.state.formControl[t];return o.a.createElement(F,{key:t+a,type:n.type,value:n.value,valid:n.valid,touched:n.touched,label:n.label,errorMessage:n.errorMessage,shouldValidate:!!n.validation,onChange:function(a){return e.onChangeHandler(a,t)}})}))}},{key:"render",value:function(){var e=[];return this.props.change?e.push(ne.a.Auth):e.push(ne.a.AuthBlack),o.a.createElement("div",{className:e.join(" ")},o.a.createElement("div",null,o.a.createElement("h1",null," \u0410\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u044f "),o.a.createElement("form",{onSubmit:this.submitHandler,className:ne.a.AuthForm},o.a.createElement("div",{className:ne.a.divInput},this.renderInputs()),o.a.createElement("div",{className:ne.a.divButton},o.a.createElement(C,{id:"auth",type:"success",onClick:this.loginHandler,disabled:!this.state.isFormValid},"\u0412\u043e\u0439\u0442\u0438"),o.a.createElement(C,{id:"auth",type:"primary",onClick:this.registerHandler,disabled:!this.state.isFormValid},"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f")))))}}]),a}(n.Component);var le=Object(h.b)((function(e){return{change:e.layout.change}}),(function(e){return{auth:function(t,a,n){return e(function(e,t,a){return function(){var n=Object(_.a)(v.a.mark((function n(o){var r,s,c,l,u;return v.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r={email:e,password:t,returnSecureToken:!0},s="https://identitytoolkit.googleapis.com/v1/accounts:signUp?key=AIzaSyBJUf6anFHVKEDAGZOEgcp0CLuv2CnOA78",a&&(s="https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=AIzaSyBJUf6anFHVKEDAGZOEgcp0CLuv2CnOA78"),n.next=5,J.a.post(s,r);case 5:c=n.sent,l=c.data,u=new Date((new Date).getTime()+1e3*l.expiresIn),localStorage.setItem("token",l.idToken),localStorage.setItem("userId",l.localId),localStorage.setItem("expirationDate",u),o(se(l.idToken)),o(oe(l.expiresIn));case 13:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}(t,a,n))}}}))(ce),ue=a(53),ie=a(13),de=a.n(ie),pe=a(34),me=a.n(pe),he=function(e){var t=[me.a.Button,me.a[e.type]];return o.a.createElement("div",{className:me.a.Together},o.a.createElement("button",{onClick:e.onClick,className:t.join(" "),disabled:e.disabled},e.children),o.a.createElement("p",{style:{textAlign:"center",fontStyle:"italic",fontSize:"11px"}}," \u0421\u043c\u0435\u043d\u0438\u0442\u044c ",o.a.createElement("br",null)," \u0441\u0442\u0438\u043b\u044c "))};var ke=Object(h.b)((function(e){return{change:e.layout.change,isAuthenticated:!!e.auth.token}}),(function(e){return{toggleChange:function(t){return e($(t))}}}))((function(e){var t=Object(n.useState)(!1),a=Object(ue.a)(t,2),r=a[0],s=a[1],c=[de.a.Layout];e.change?c.push(de.a.White):c.push(de.a.Black);var l="";l=e.change?"white":"black";var u=[e.change?de.a.MenuToggle:de.a.MenuToggleBlack,"fa"];r?(u.push("fa-times"),u.push(de.a.open)):u.push("fa-bars");var i=[de.a.Drawer];r||i.push(de.a.close);var d=[{to:"/",label:"Tasks",exact:!0}];return e.isAuthenticated?d.push({to:"/logout",label:"Logout",exact:!1}):d.push({to:"/auth",label:"Auth",exact:!1}),o.a.createElement("div",{className:c.join(" ")},o.a.createElement("div",{className:de.a.styleButton},o.a.createElement(he,{type:l,onClick:function(){return e.toggleChange(!e.change)}},"  ")),o.a.createElement(o.a.Fragment,null,o.a.createElement("nav",{className:i.join(" ")},o.a.createElement("ul",null,d.map((function(e,t){return o.a.createElement("li",{key:t},o.a.createElement(m.c,{to:e.to,exact:e.exact,activeClassName:de.a.active,onClick:function(){return s(!1)}},e.label))})))),r?o.a.createElement(V,{onClick:function(){return s(!1)}}):null),o.a.createElement(o.a.Fragment,null,o.a.createElement("i",{className:u.join(" "),onClick:function(){return s(!r)}})),o.a.createElement("main",null,e.children,o.a.createElement("h5",{className:de.a.author}," developed by Melkov Pavel ")))})),fe=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"componentDidMount",value:function(){this.props.logout()}},{key:"render",value:function(){return o.a.createElement(i.a,{to:"/"})}}]),a}(n.Component);var ve=Object(h.b)(null,(function(e){return{logout:function(){return e(re())}}}))(fe),_e=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"componentDidMount",value:function(){this.props.autoLogin()}},{key:"render",value:function(){return o.a.createElement(o.a.Fragment,null,this.props.isAuthenticated?o.a.createElement(o.a.Fragment,null,o.a.createElement(i.d,null,o.a.createElement(ke,null,o.a.createElement(i.b,{path:"/tasks/:id",component:k}),o.a.createElement(i.b,{path:"/logout",component:ve}),o.a.createElement(i.b,{path:"/",exact:!0,component:te}),o.a.createElement(i.a,{to:"/"})))):o.a.createElement(o.a.Fragment,null,o.a.createElement(i.d,null,o.a.createElement(ke,null,o.a.createElement(i.b,{path:"/auth",component:le}),o.a.createElement(i.b,{path:"/",exact:!0,component:te}),o.a.createElement(i.a,{to:"/auth"})))))}}]),a}(n.Component);var Te=Object(h.b)((function(e){return{isAuthenticated:!!e.auth.token}}),(function(e){return{autoLogin:function(){return e((function(e){var t=localStorage.getItem("token");if(t){var a=new Date(localStorage.getItem("expirationDate"));a<=new Date?e(re()):(e(se(t)),e(oe((a.getTime()-(new Date).getTime())/1e3)))}else e(re())}))}}}))(_e);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var ge=a(21),be={openModal:{open:!1,taskId:null},loader:!1,tasks:[],task:null};var Ee={token:null};var Oe={change:!0};var je=Object(ge.c)({tasks:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:be,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"NEW_CHECK":return Object(T.a)(Object(T.a)({},e),{},{tasks:t.newTasks});case"AUTH_LOGOUT":return Object(T.a)(Object(T.a)({},e),{},{tasks:[]});case"DELETE_TASK":return Object(T.a)(Object(T.a)({},e),{},{tasks:t.newTasks});case"OPEN_MODAL":return Object(T.a)(Object(T.a)({},e),{},{openModal:Object(T.a)(Object(T.a)({},e.openModal),{},{open:!0,taskId:t.id})});case"CLOSE_MODAL":return Object(T.a)(Object(T.a)({},e),{},{openModal:Object(T.a)(Object(T.a)({},e.openModal),{},{open:!1,taskId:null})});case"UPDATE_TASK":return Object(T.a)(Object(T.a)({},e),{},{tasks:t.tasks});case"SUCCESS_CREATED_TASK":return Object(T.a)(Object(T.a)({},e),{},{tasks:[].concat(Object(g.a)(e.tasks),[t.task])});case"SET_TASK":return Object(T.a)(Object(T.a)({},e),{},{task:t.task});case"RESET_TASK":return Object(T.a)(Object(T.a)({},e),{},{task:null});case"FETCH_TASKS_START":return Object(T.a)(Object(T.a)({},e),{},{loader:!0});case"FETCH_TASKS_SUCCESS":return Object(T.a)(Object(T.a)({},e),{},{tasks:t.tasks,loader:!1});case"FETCH_TASKS_ERROR":return Object(T.a)(Object(T.a)({},e),{},{error:t.error});default:return e}},auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ee,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"AUTH_SUCCESS":return Object(T.a)(Object(T.a)({},e),{},{token:t.token});case"AUTH_LOGOUT":return Object(T.a)(Object(T.a)({},e),{},{token:null});default:return e}},layout:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Oe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"TOGGLE_CHANGE":return Object(T.a)(Object(T.a)({},e),{},{change:t.newToggle});default:return e}}}),ye=a(52),Be="object"===typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({}):ge.d,Ce=Object(ge.e)(je,Be(Object(ge.a)(ye.a)));Object(r.render)(o.a.createElement(o.a.StrictMode,null,o.a.createElement(h.a,{store:Ce},o.a.createElement(m.a,null,o.a.createElement(o.a.Fragment,null,o.a.createElement(Te,null))))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[54,1,2]]]);
//# sourceMappingURL=main.04120051.chunk.js.map